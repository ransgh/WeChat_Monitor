name: Daily WeChat Monitor

on:
  schedule:
    - cron: '0 11 * * *'  # UTCæ—¶é—´11ç‚¹ = åŒ—äº¬æ—¶é—´19ç‚¹
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  monitor:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“¥ ä¸‹è½½ä»£ç 
      uses: actions/checkout@v3
      
    - name: ğŸ è®¾ç½®Pythonç¯å¢ƒ
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        
    - name: ğŸ“¦ å®‰è£…ä¾èµ–
      run: pip install requests feedparser
      
    - name: ğŸš€ è¿è¡Œå¾®ä¿¡ç›‘æ§
      env:
        CORP_ID: ${{ secrets.CORP_ID }}
        AGENT_ID: ${{ secrets.AGENT_ID }}
        APP_SECRET: ${{ secrets.APP_SECRET }}
        USER_ID: ${{ secrets.USER_ID }}
      run: python wechat_monitor.py
